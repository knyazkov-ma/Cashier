<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2">
  <class name="Cashier.Entity.BaseRequestEvent, Cashier.Entity" lazy="false">
    <id name="Id" column="Id" unsaved-value="0">
      <generator class="sequence">
        <param name="sequence">SQ_GLOBAL</param>
      </generator>
    </id>

    
    
    <property name="RequestId"        type="Int64" not-null="true"/>
    <property name="Note"             length="2000"    />
    <property name="OrdGroup"         type="Int32"    not-null="true"/>
    <property name="DateEvent"        type="DateTime" not-null="true"/>
    <property name="DateInsert"       type="DateTime" not-null="true"/>
    
    
    <union-subclass name="Cashier.Entity.RequestEvent, Cashier.Entity" table="RequestEvent">
      <many-to-one foreign-key="RequestEvent_StatusRequest_FK" name="StatusRequest" column="StatusRequestId"  class="Cashier.Entity.StatusRequest, Cashier.Entity" />
      <many-to-one foreign-key="RequestEvent_User_FK" name="User" fetch="join" column="UserId" class="Cashier.Entity.WorkerUser, Cashier.Entity"/>
    </union-subclass>

    <union-subclass name="Cashier.Entity.RequestEventArch, Cashier.Entity" table="RequestEventArch">
      <many-to-one foreign-key="RequestEventArch_StatusRequest_FK" name="StatusRequest" column="StatusRequestId"  class="Cashier.Entity.StatusRequest, Cashier.Entity" />
      <many-to-one foreign-key="RequestEventArch_User_FK" name="User" fetch="join" column="UserId" class="Cashier.Entity.WorkerUser, Cashier.Entity"/>
    </union-subclass>
  </class>
  
</hibernate-mapping>